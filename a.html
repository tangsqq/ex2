<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>移动版放大效果</title>
  <style>
    #yourImage {
      width: 100%;
      max-width: 300px; /* 设置图片的最大宽度 */
      cursor: pointer;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

  <img id="yourImage" src="image/tiger.jpeg" alt="Your Image">

  <script>
    $(document).ready(function(){
      var zoomLevel = 1; // 初始缩放级别
      var maxZoom = 2; // 最大缩放级别
      var minZoom = 1; // 最小缩放级别
      var zoomIncrement = 0.1; // 缩放增量

      var touchStart = { x: 0, y: 0 };
      var isZooming = false;

      $("#yourImage").on('touchstart', function(e){
        var touch = e.originalEvent.touches[0];
        touchStart = { x: touch.pageX, y: touch.pageY };
        isZooming = true;
      });

      $("#yourImage").on('touchmove', function(e){
        if (isZooming && e.originalEvent.touches.length == 2) {
          var touch1 = e.originalEvent.touches[0];
          var touch2 = e.originalEvent.touches[1];

          var currentDistance = Math.hypot(touch1.pageX - touch2.pageX, touch1.pageY - touch2.pageY);
          var previousDistance = Math.hypot(touchStart.x - touch2.pageX, touchStart.y - touch2.pageY);

          var delta = currentDistance - previousDistance;

          if (delta > 0 && zoomLevel < maxZoom) {
            zoomLevel += zoomIncrement;
          } else if (delta < 0 && zoomLevel > minZoom) {
            zoomLevel -= zoomIncrement;
          }

          $("#yourImage").css('transform', 'scale(' + zoomLevel + ')');
        }
      });

      $("#yourImage").on('touchend', function(){
        isZooming = false;
      });
    });
  </script>

</body>
</html>
